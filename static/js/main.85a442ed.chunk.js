(this.webpackJsonpspc=this.webpackJsonpspc||[]).push([[0],{181:function(e,t,r){},182:function(e,t,r){},183:function(e,t,r){},184:function(e,t,r){},185:function(e,t,r){},186:function(e,t,r){},187:function(e,t,r){},188:function(e,t,r){"use strict";r.r(t);r(85);var n,a=r(0),o=r.n(a),c=r(83),l=r.n(c),i=(r(181),r(20)),u=r(22),s=(r(182),r(16)),m=(r(183),Math.acos,Math.tan,function(e){return e*Math.PI/180}),f=Math.sin,p=(Math.cos,Math.asin,Math.acos,Math.PI,(new Date).getFullYear()),b=(n=p)%400===0||n%100!==0&&n%4===0?366:365,g=m(23.45),v=function(){for(var e=new Array(b),t=0;t<b;t++)e[t]=g*f(m(360/365*(t-81)));return e}(),O=function(){var e={};return["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"].forEach((function(t,r){return e[t]=22.5*r})),e}(),y=r(26),h=(r(184),function(e){return 176==String(e).charCodeAt(e.length-1)?e:e+String.fromCharCode(176)}),w=function(e){var t=e._label,r=e.onChange,n=e.value,c=Object(y.a)(e,["_label","onChange","value"]),l=Object(a.useState)(h(n)),i=Object(u.a)(l,2),s=i[0],m=i[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement("label",{className:"degrees-label",htmlFor:t},t),o.a.createElement("input",Object.assign({className:"degrees-input",name:t,value:s,"aria-label":t,onBlur:function(){m(h(""===n?0:n))},onFocus:function(){var e,t=(e=n,176==(e=String(e)).charCodeAt(e.length-1)?e.substr(0,e.length-1):Number(e));m(0===t?"":t)},onChange:function(e){m(e.target.value),r(e.target.value)}},c)))},d=(r(185),r(186),function(e){var t=e._label,r=Object(y.a)(e,["_label"]);return o.a.createElement(o.a.Fragment,null,o.a.createElement("label",{className:"number-label",htmlFor:t},t),o.a.createElement("input",Object.assign({className:"number-input",name:t,"aria-label":t},r)))}),E=function(e){var t=e.remove,r=e.setVal,n=e.val;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"form-group"},o.a.createElement(w,{onChange:function(e){return r("tilt",e)},_label:"Tilt",value:n.tilt})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"orientation"},"Orientation"),o.a.createElement("select",{className:"select-group",value:n.orientation,onChange:function(e){return r("orientation",e.target.value)}},Object.keys(O).map((function(e){return o.a.createElement("option",{key:e,value:e},e)})))),o.a.createElement("div",{className:"form-group"},o.a.createElement(d,{_label:"Watts",value:n.watts,onChange:function(e){return r("watts",e.target.value)}}),o.a.createElement("button",{className:"button",onClick:t},"-")))};function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(r,!0).forEach((function(t){Object(i.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var P=function(e){var t=e.pvArrays,r=e.setPVArrays,n=e.pvArrayInit,a=function(e){return function(){return r([].concat(Object(s.a)(t.slice(0,e)),Object(s.a)(t.slice(e+1))))}},c=function(e){return function(n,a){return r([].concat(Object(s.a)(t.slice(0,e)),[S({},t[e],Object(i.a)({},n,a))],Object(s.a)(t.slice(e+1))))}};return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"panels-group"},o.a.createElement("h3",{className:"pv-arrays-header"},"PV Arrays"),t.map((function(e,r){return o.a.createElement("div",null,o.a.createElement("span",{className:"array-number"},r+1,"."),o.a.createElement(E,{key:r,setVal:c(r),remove:a(r),val:t[r]}))})),o.a.createElement("button",{className:"button",onClick:function(){return r([].concat(Object(s.a)(t),[n]))}},"+")))},N=function(e){var t={};return function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var o=JSON.stringify(n);return t[o]?t[o]:t[o]=e.apply(void 0,n)}},D=window.localStorage.memoizeLSVersion;if("undefined"!==typeof D&&"1"!==D)for(var A in window.localStorage)A.startsWith("memoizeLS")&&delete window.localStorage[A];function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(r,!0).forEach((function(t){Object(i.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var C,W,F=Math.sin,J=Math.cos,I=Math.asin,_=Math.acos,B=Math.tan,V=Math.PI,T=(N(J),N(F),N(B)),L=N((function(e){return v.map((function(t){return z(k({},e,{dec:t}))}))})),z=N((function(e){var t,r,n=(t=e.lat,r=e.dec,_(-T(t)*T(r))/m(15));return function(e,t,r,n){if(t%2!==0)throw new Error("n must be even");for(var a=(n-r)/t,o=e(r),c=1;c<t;c++)o+=e(c*a+r)*(c%2==0?2:4);return(o+=e(t*a))*a/3}((function(t){var r=t*V/12,n=x(k({},e,{hourAngle:r}));return n<0?0:n}),e.samplesPerDay,-n,n)})),x=N((function(e){var t,r=e.lat,n=e.dec,a=e.tilt,o=e.orientation,c=e.hourAngle,l=F(r),i=F(n),u=J(c),s=F(c),m=J(r),f=J(n),p=I(i*l+f*u*m),b=J(p),g=(i*m-f*u*l)/b;return t=g<-1?Math.PI:g>1?0:_(g),s>0&&(t=2*V-t),F(p)*J(a)+b*F(a)*J(o-t)})),Y=(new Date).getFullYear(),$=N((function(e,t){return new Date(e,t,0).getDate()})),q=N((function(e){var t=e.watts,r=Object(y.a)(e,["watts"]),n=L(r),a=0;return Object(s.a)(new Array(12)).map((function(e,t){var r,o=n.slice(a,a+=$(Y,t));return(r=o).reduce((function(e,t){return e+t}),0)/r.length})).map((function(e){return e*t}))})),G=(C="getAvgProdByMonth",W=q,function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n="memoizeLS1"+C+JSON.stringify(t);if(window.localStorage[n])return JSON.parse(window.localStorage[n]);var a=W.apply(void 0,t);return window.localStorage[n]=JSON.stringify(a),a});r(187);function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var K=function(e,t){var r=Math.pow(10,t);return(e*r|0)/r},Q=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],R=function(e){var t=e.pvArrays,r=e.lat,n=function(e){return e.map((function(e){return G(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(r,!0).forEach((function(t){Object(i.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,{lat:r,samplesPerDay:100}))}))},c=Object(a.useState)({calculating:!1,data:[],time:0}),l=Object(u.a)(c,2),s=l[0],m=l[1];Object(a.useEffect)((function(){setTimeout(f,0)}),[]);var f=function(){m({data:[],calculating:!0,time:0}),setTimeout((function(){var e=+new Date,r=n(t),a=+new Date;m({data:r,calculating:!1,time:a-e})}),0)};return o.a.createElement("div",null,o.a.createElement("button",{className:"button",onClick:f},"Calculate"),o.a.createElement("h3",{className:"display-header"},"Average Production Per Day By Month (kw/h)"),s.calculating?U():Z(s))},U=function(){return o.a.createElement("div",{className:"calculating"},"Calculating...")},X=N((function(e,t){return e.reduce((function(e,r){return[].concat(Object(s.a)(e),[r[t]])}),[])})),Z=function(e){for(var t,r=[],n=0;n<12;n++)r.push(X(e.data,n));return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"all-months-wrapper"},r.map(ee)),(t=e.time)>10?(console.log("calculationTime",t),o.a.createElement("div",{className:"calc-time"},"Calculation Time: ",K(t/1e3,2)," seconds")):"")},ee=function(e,t){var r=e.length>1?{borderBottom:"1px solid black"}:{};return o.a.createElement("div",{key:t,className:"month-wrapper"},o.a.createElement("div",{className:"month-label"},Q[t]),o.a.createElement("div",{style:r},e.map((function(e,t){return o.a.createElement("div",{className:"month-data",key:t},K(e/1e3,2))}))),te(e))},te=function(e){if(e.length<2)return"";var t=e.reduce((function(e,t){return e+t}),0);return o.a.createElement("div",{className:"month-total"},K(t/1e3,2))};function re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var ne={tilt:0,orientation:"S",watts:500},ae=window.localStorage.pvArrays,oe=ae?JSON.parse(ae):[ne],ce=window.localStorage.lat?window.localStorage.lat:0,le=(window.localStorage.samplesPerDay&&Number(window.localStorage.samplesPerDay),function(){var e=Object(a.useState)(oe),t=Object(u.a)(e,2),r=t[0],n=t[1],c=Object(a.useState)(ce),l=Object(u.a)(c,2),s=l[0],f=l[1],p=m(Number(s)),b=r.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?re(r,!0).forEach((function(t){Object(i.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,{orientation:m(O[e.orientation]),tilt:m(e.tilt)})}));return window.localStorage.pvArrays=JSON.stringify(r),window.localStorage.lat=s,o.a.createElement("div",{className:"App"},o.a.createElement("header",null,o.a.createElement("h1",{className:"header"},"Solar Power Calculator")),o.a.createElement("div",null,o.a.createElement("div",{className:"form-group"},o.a.createElement(w,{onChange:function(e){return f(e)},_label:"Latitude",value:s})),o.a.createElement("div",{className:"form-group"})),o.a.createElement(P,{pvArrays:r,setPVArrays:n,pvArrayInit:ne}),o.a.createElement(R,{pvArrays:b,lat:p}))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(le,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},84:function(e,t,r){e.exports=r(188)}},[[84,1,2]]]);
//# sourceMappingURL=main.85a442ed.chunk.js.map