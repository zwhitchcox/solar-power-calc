(this.webpackJsonpspc=this.webpackJsonpspc||[]).push([[0],{181:function(e,t,a){},182:function(e,t,a){},183:function(e,t,a){},184:function(e,t,a){},185:function(e,t,a){},186:function(e,t,a){},187:function(e,t,a){},188:function(e,t,a){},189:function(e,t,a){"use strict";a.r(t);a(85);var r,n=a(0),c=a.n(n),o=a(83),l=a.n(o),i=(a(181),a(20)),u=a(22),s=(a(182),a(16)),m=(a(183),Math.acos,Math.tan,function(e){return e*Math.PI/180}),f=Math.sin,p=(Math.cos,Math.asin,Math.acos,Math.PI,(new Date).getFullYear()),b=(r=p)%400===0||r%100!==0&&r%4===0?366:365,v=m(23.45),g=function(){for(var e=new Array(b),t=0;t<b;t++)e[t]=v*f(m(360/365*(t-81)));return e}(),O=function(){var e={};return["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"].forEach((function(t,a){return e[t]=22.5*a})),e}(),h=a(26),d=(a(184),function(e){var t,a=e._label,r=e.setVal,o=e.value,l=Object(h.a)(e,["_label","setVal","value"]),i=Object(n.useState)(!1),s=Object(u.a)(i,2),m=s[0],f=s[1],p=e.width?{width:e.width+"px"}:{};return c.a.createElement(c.a.Fragment,null,c.a.createElement("label",{className:"degrees-label",htmlFor:a},a),c.a.createElement("input",Object.assign({className:"degrees-input",style:p,name:a,value:m?o:(t=o,176==String(t).charCodeAt(t.length-1)?t:t+String.fromCharCode(176)),"aria-label":a,onBlur:function(){f(!1);var e=Number(o);Number.isNaN(e)&&(e=0),r(e)},onFocus:function(){var e;f(!0),0===(e=o,176==(e=String(e)).charCodeAt(e.length-1)?e.substr(0,e.length-1):Number(e))&&r("")},onChange:function(e){r(e.target.value)}},l)))}),w=(a(185),a(186),function(e){var t=e._label,a=Object(h.a)(e,["_label"]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("label",{className:"number-label",htmlFor:t},t),c.a.createElement("input",Object.assign({className:"number-input",name:t,"aria-label":t},a)))}),y=(a(187),function(e){var t=e.text;return c.a.createElement("div",{className:"tooltip"},c.a.createElement("button",{className:"tooltip-btn"},c.a.createElement("i",{className:"fa fa-question"})),c.a.createElement("span",{className:"tooltiptext"},t))}),E=function(e){var t=e.remove,a=e.setVal,r=e.val;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"form-group"},c.a.createElement(d,{setVal:function(e){return a("tilt",e)},_label:"Tilt",value:r.tilt}),c.a.createElement(y,{text:"The angle of the panel from the ground"})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"orientation"},"Orientation"),c.a.createElement("select",{className:"select-group",value:r.orientation,onChange:function(e){return a("orientation",e.target.value)}},Object.keys(O).map((function(e){return c.a.createElement("option",{key:e,value:e},e)}))),c.a.createElement(y,{text:"The direction toward which the panel is tilted"})),c.a.createElement("div",{className:"form-group"},c.a.createElement(w,{_label:"Watts",value:r.watts,onChange:function(e){return a("watts",e.target.value)}}),c.a.createElement("button",{className:"button",onClick:t},"-")))};function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(a,!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var S=function(e){var t=e.pvArrays,a=e.setPVArrays,r=e.pvArrayInit,n=function(e){return function(){return a([].concat(Object(s.a)(t.slice(0,e)),Object(s.a)(t.slice(e+1))))}},o=function(e){return function(r,n){return a([].concat(Object(s.a)(t.slice(0,e)),[N({},t[e],Object(i.a)({},r,n))],Object(s.a)(t.slice(e+1))))}};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"panels-group"},c.a.createElement("h3",{className:"pv-arrays-header"},"PV Arrays"),t.map((function(e,t){return c.a.createElement("div",null,c.a.createElement("span",{className:"array-number"},t+1,"."),c.a.createElement(E,{key:t,setVal:o(t),remove:n(t),val:e}))})),c.a.createElement("button",{className:"button",onClick:function(){return a([].concat(Object(s.a)(t),[r]))}},"+")))},P=function(e){var t={};return function(){for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];var c=JSON.stringify(r);return t[c]?t[c]:t[c]=e.apply(void 0,r)}},D=window.localStorage.memoizeLSVersion;if("undefined"!==typeof D&&"1"!==D)for(var A in window.localStorage)A.startsWith("memoizeLS")&&delete window.localStorage[A];var k=function(e,t){var a=Math.pow(10,t);return(e*a|0)/a};function M(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?M(a,!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):M(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var F,W,J=Math.sin,V=Math.cos,_=Math.asin,x=Math.acos,I=Math.tan,L=Math.PI,T=(P(V),P(J),P(I)),B=P((function(e){return g.map((function(t){return z(C({},e,{dec:t}))}))})),z=P((function(e){var t,a,r=(t=e.lat,a=e.dec,x(-T(t)*T(a))/m(15));return function(e,t,a,r){if(t%2!==0)throw new Error("n must be even");for(var n=(r-a)/t,c=e(a),o=1;o<t;o++)c+=e(o*n+a)*(o%2==0?2:4);return(c+=e(t*n))*n/3}((function(t){var a=t*L/12,r=Y(C({},e,{hourAngle:a}));return r<0?0:r}),e.samplesPerDay,-r,r)})),Y=P((function(e){var t,a=e.lat,r=e.dec,n=e.tilt,c=e.orientation,o=e.hourAngle,l=J(a),i=J(r),u=V(o),s=J(o),m=V(a),f=V(r),p=_(i*l+f*u*m),b=V(p),v=(i*m-f*u*l)/b;return t=v<-1?Math.PI:v>1?0:x(v),s>0&&(t=2*L-t),J(p)*V(n)+b*J(n)*V(c-t)})),q=(new Date).getFullYear(),$=P((function(e,t){return new Date(e,t,0).getDate()})),G=P((function(e){var t=e.watts,a=Object(h.a)(e,["watts"]),r=B(a),n=0;return Object(s.a)(new Array(12)).map((function(e,t){var a,c=r.slice(n,n+=$(q,t));return(a=c).reduce((function(e,t){return e+t}),0)/a.length})).map((function(e){return e*t}))})),H=(F="getAvgProdByMonth",W=G,function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var r="memoizeLS1"+F+JSON.stringify(t);if(window.localStorage[r])return JSON.parse(window.localStorage[r]);var n=W.apply(void 0,t);return window.localStorage[r]=JSON.stringify(n),n});a(188);function K(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var Q=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],R=function(e){var t=e.pvArrays,a=e.lat,r=function(e){return e.map((function(e){return H(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?K(a,!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):K(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{lat:a,samplesPerDay:100}))}))},o=Object(n.useState)({calculating:!1,data:[],time:0}),l=Object(u.a)(o,2),s=l[0],m=l[1];Object(n.useEffect)((function(){setTimeout(f,0)}),[]);var f=function(){m({data:[],calculating:!0,time:0}),setTimeout((function(){var e=+new Date,a=r(t),n=+new Date;m({data:a,calculating:!1,time:n-e})}),0)};return c.a.createElement("div",null,c.a.createElement("button",{className:"button",onClick:f},"Calculate"),c.a.createElement("h3",{className:"display-header"},"Average Production Per Day  (kw/h)"),s.calculating?U():Z(s))},U=function(){return c.a.createElement("div",{className:"calculating"},"Calculating...")},X=P((function(e,t){return e.reduce((function(e,a){return[].concat(Object(s.a)(e),[a[t]])}),[])})),Z=function(e){for(var t,a=[],r=0;r<12;r++)a.push(X(e.data,r));return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"all-months-wrapper"},a.map(ee)),(t=e.time)>10?(console.log("calculationTime",t),c.a.createElement("div",{className:"calc-time"},"Calculation Time: ",k(t/1e3,2)," seconds")):"")},ee=function(e,t){var a=e.length>1?{borderBottom:"1px solid black"}:{};return c.a.createElement("div",{key:t,className:"month-wrapper"},c.a.createElement("div",{className:"month-label"},Q[t]),c.a.createElement("div",{style:a},e.map((function(e,t){return c.a.createElement("div",{className:"month-data",key:t},k(e/1e3,2))}))),te(e))},te=function(e){if(e.length<2)return"";var t=e.reduce((function(e,t){return e+t}),0);return c.a.createElement("div",{className:"month-total"},k(t/1e3,2))},ae=function(e){var t=e.setLat;return c.a.createElement("a",{className:"lat-link",href:"https://www.latlong.net/",target:"_blank",onClick:function(e){try{navigator.geolocation.getCurrentPosition((function(e){t(k(e.coords.latitude,2))}),(function(e){window.open("https://www.latlong.net","_blank")})),e.preventDefault()}catch(e){}}},"Find My Latitude")};function re(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var ne={tilt:0,orientation:"S",watts:500},ce=window.localStorage.pvArrays,oe=ce?JSON.parse(ce):[ne],le=window.localStorage.lat?window.localStorage.lat:0,ie=function(){var e=Object(n.useState)(oe),t=Object(u.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(le),l=Object(u.a)(o,2),s=l[0],f=l[1],p=m(Number(s)),b=a.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?re(a,!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):re(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{orientation:m(O[e.orientation]),tilt:m(e.tilt)})}));return window.localStorage.pvArrays=JSON.stringify(a),window.localStorage.lat=s,c.a.createElement("div",{className:"App"},c.a.createElement("header",null,c.a.createElement("h1",{className:"header"},"Solar Power Calculator")),c.a.createElement("div",null,c.a.createElement("div",{className:"form-group"},c.a.createElement(d,{setVal:f,_label:"Latitude",value:s,width:80}),c.a.createElement(ae,{setLat:f})),c.a.createElement("div",{className:"form-group"})),c.a.createElement(S,{pvArrays:a,setPVArrays:r,pvArrayInit:ne}),c.a.createElement(R,{pvArrays:b,lat:p}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(ie,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},84:function(e,t,a){e.exports=a(189)}},[[84,1,2]]]);
//# sourceMappingURL=main.ba0b73c9.chunk.js.map